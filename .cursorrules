# Project: GM (Destiny Item Manager)

## Tech Stack
- **Frontend**: React 18 + Vite 5 + TypeScript + Tailwind CSS 3.4
- **Backend**: Cloudflare Pages Functions (Hono, serverless API at `/functions/api`)
- **Auth**: Bungie.net OAuth 2.0 (HTTP-only cookie session)
- **State**: Zustand (with `persist` middleware for loadouts)
- **Routing**: react-router-dom v7
- **Icons**: lucide-react

## Design System: "Void" Theme
- **Backgrounds**: Pure black (`#000000`). Cards use `void-surface` (`#0a0a0a`).
- **Chrome**: Monochrome only. White/gray text, `void-*` border/text tokens.
- **Color Rule**: Color is reserved EXCLUSIVELY for loot (rarity borders, damage types, element icons). Class badges are the exception (Titan=orange, Hunter=cyan, Warlock=purple).
- **Typography**: `font-rajdhani` for headers/labels with `uppercase tracking-[0.2em]`. `font-mono` (JetBrains Mono) for data/stats. `font-sans` (Inter) for body text.

## Key Components
- `src/pages/Inventory.tsx` — Main dashboard (character columns + vault)
- `src/pages/Loadouts.tsx` — Loadout hub with LoadoutCard list
- `src/pages/Progress.tsx` — Progress dashboard (beta)
- `src/components/loadouts/LoadoutCard.tsx` — Tactical Briefing card
- `src/components/loadouts/LoadoutDrawer.tsx` — Sidebar quick-access drawer
- `src/components/inventory/ItemDetailModal.tsx` — Item popup (DIM-parity)
- `src/store/useInventoryStore.ts` — Main inventory Zustand store
- `src/store/loadoutStore.ts` — Loadout persistence store

## Architecture Principles
- **Headless Engine**: Logic lives in Zustand stores, NOT in components.
- **Components are dumb**: They render store data and trigger store actions.
- **Click-to-Move**: No drag-and-drop. Click item -> modal -> select target.
- **Optimistic UI**: All actions update the store instantly before awaiting API.
- **No Next.js**: This is a Vite SPA. Do not create next.config or server components.
- **Build**: `vite build` only. Never use `tsc && vite build` (causes hangs).

## Constraints
- **Serverless**: Backend is stateless. No `fs` persistence.
- **Performance**: Bulk fetching over individual requests.
- **API**: Backend logic in `functions/`. Frontend calls via `/api/...`.

## Documentation
- `docs/` — DIM reference docs, developer guide, project constitution, plans
- `CHANGELOG.md` — Full version history
